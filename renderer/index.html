<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
  <link rel="stylesheet" href="index.css">
  <title>WFM Cockpit</title>
</head>

<body>

<!-- Navbar -->
<nav class="navbar bg-body-tertiary">
  <div class="container-fluid d-flex align-items-center justify-content-between">
    <div class="align-items-center d-flex">
      <img class="img-fluid ms-3" src="/assets/icon.png" style="height: 30px;">
      <span onclick="tool_cards_laden();" class="navbar-brand ms-4" 
      style="cursor: pointer; font-family: Verdana, Geneva, Tahoma, sans-serif;">WFM Cockpit</span>
    </div>

    <div class="d-flex align-items-center">
      <input id="T_suche" class="form-control" placeholder="Tools suchen" type="text" style="width: 15rem;">
      <button id="btn_suche" class="btn border-0" style="margin-right: 3rem;">
        <i class="bi bi-search"></i>
      </button>

      <!-- Dropdown -->
      <div class="dropdown me-2">
        <button class="btn btn-outline-dark rounded-circle d-flex align-items-center justify-content-center" 
                type="button" id="profilDropdown" data-bs-toggle="dropdown" aria-expanded="false" style="width: 32px; height: 32px;">
          <i class="bi bi-person-fill fs-6"></i>
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profilDropdown">
          <li><button class="dropdown-item" onclick="speicher_bereinigen()">Speicher bereinigen</button></li>
          <li><button class="dropdown-item" onclick="sap_verbindung_test()">SAP-Verbindung testen</button></li>
          <li><hr class="dropdown-divider"></li>
          <li><button class="dropdown-item text-danger" onclick="abmelden()">Abmelden</button></li>
        </ul>
      </div>

      <span id="username" class="text-black">Vorname Nachname</span>
    </div>
  </div>
</nav>


  <!-- Sidebar -->
  <div class="sidebar d-flex flex-column">
    <button id="btn_gh_dispo_tools" class="d-block fs-4 mb-1 w-100 btn border-0" data-bs-toggle="tooltip" title="Aufgabenliste GH-Dispo">
      <i class="bi bi-list-task"></i>
    </button>
    <button id="btn_sonderprozesse" class="d-block fs-4 mb-1 w-100 btn border-0" data-bs-toggle="tooltip" title="Sonderprozesse">
      <i class="bi bi-stars"></i>
    </button>
    <button id="btn_organisation" class="d-block fs-4 mb-1 w-100 btn border-0" data-bs-toggle="tooltip" title="Organisation">
      <i class="bi bi-people-fill"></i>
    </button>
    <button id="btn_Auswertungen" class="d-block fs-4 mb-1 w-100 btn border-0" data-bs-toggle="tooltip" title="Auswertungen">
      <i class="bi bi-file-bar-graph-fill"></i>
    </button>
    <button id="btn_mail" class="d-block fs-4 mb-1 w-100 btn border-0" data-bs-toggle="tooltip" title="Mailing">
      <i class="bi bi-envelope-fill"></i>
    </button>

    <div class="mt-auto">
      <button id="btn_open_modal" class="btn d-block fs-4 mb-1 w-100" data-bs-toggle="modal" data-bs-target="#toolModal">
        <i class="bi bi-plus-circle-fill"></i>
      </button>
    </div>
  </div>
  
  <!-- Hauptbereich mit 5x4 Cards -->
  <div class="main-content">

    <div class="card-grid">

    </div>

  </div>

  <!-- Modal -->
  <div class="modal fade" id="toolModal" tabindex="-1" aria-labelledby="toolModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="toolForm" novalidate>
          <div class="modal-header">
            <h5 class="modal-title" id="toolModalLabel">Neues Tool hinzufügen</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schließen"></button>
          </div>
          <div class="modal-body">

            <!-- Toolname -->
            <div class="mb-3">
              <label for="toolname" class="form-label">Toolname</label>
              <input type="text" class="form-control" id="toolname" name="toolname" maxlength="50" required>
              <div class="invalid-feedback">Bitte einen Toolnamen (max. 50 Zeichen) eingeben.</div>
            </div>

            <!-- Toolbeschreibung (textarea) -->
            <div class="mb-3">
              <label for="toolbeschreibung" class="form-label">Toolbeschreibung</label>
              <textarea class="form-control" id="toolbeschreibung" name="toolbeschreibung" maxlength="50" required></textarea>
              <div class="invalid-feedback">Bitte eine Beschreibung (max. 50 Zeichen) eingeben.</div>
            </div>

            <!-- Toolpfad -->
            <div class="mb-3">
              <label for="toolpfad" class="form-label">Toolpfad</label>
              <input type="text" class="form-control" id="toolpfad" name="toolpfad" maxlength="250" required>
              <div class="invalid-feedback">Bitte einen Pfad (max. 250 Zeichen) angeben.</div>
            </div>

            <!-- Toolart -->
              <div class="mb-3">
                <label for="toolart" class="form-label">Toolart</label>
                <input list="toolart-options" class="form-control" id="toolart" name="toolart" maxlength="50" required>
                <datalist id="toolart-options">
                  <option value="GH_Dispo">
                  <option value="Sonderprozesse">
                  <option value="Organisation">
                  <option value="Auswertungen">
                  <option value="Mailing">
                </datalist>
                <div class="invalid-feedback">
                  Bitte die Toolart angeben (max. 50 Zeichen).
                </div>
              </div>


            <!-- Platz für Fehlermeldung vom Backend -->
            <div id="toolFormError" class="alert alert-danger d-none" role="alert"></div>

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Abbrechen</button>
            <button type="submit" class="btn btn-primary">Speichern</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="index.js"></script>
</body>
</html>
